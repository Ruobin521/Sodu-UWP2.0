<local:BaseListUserControl
    x:Class="Sodu.View.OnlineBookShelfPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Sodu.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControl="using:Sodu.UserControl"
    xmlns:control="using:Sodu.Control"
    xmlns:swipeListControl="using:Sodu.Control.SwipeListControl"
    DataContext="{Binding  Instance.OnLineBookShelf,Source={StaticResource Locator}}"
    mc:Ignorable="d">
    <Grid Background="{StaticResource AppBackColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="44"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <userControl:TopNavigationBar Grid.Row="0" Title="{Binding Title}"  SearchCommand="{Binding SearchCommand}" RefreshCommand="{Binding RefreshCommand}"></userControl:TopNavigationBar>
        <!--<control:PullToRefreshListView x:Name="BookListView"  Grid.Row="1"   RefreshCommand="{Binding RefreshCommand}" RequestCommand="{Binding PullToLoadCommand}"  ItemContainerStyle="{ StaticResource  CustomListViewItemStyle}"   Margin="0,0,0,0"   ItemsSource="{Binding  Books}"      HorizontalAlignment="Stretch" Background="Transparent">
            <control:PullToRefreshListView.ItemTemplate>
                <DataTemplate>
                    <userControl:OnlineBookShelfItem   DataContext="{Binding}"  Command="{Binding  Instance.OnLineBookShelf.ItemClickCommand,Source={ StaticResource  Locator}}" CommandParameter="{Binding}"/>
                </DataTemplate>
            </control:PullToRefreshListView.ItemTemplate>
        </control:PullToRefreshListView >-->

        <swipeListControl:SwipeListView x:Name="List" 
                           ItemsSource="{Binding  Books}" 
                           IsItemClickEnabled="True"
                           SelectionMode="None"
                           ItemRightBehavior="Collapse"
                           ItemRightCommand="{Binding RemoveCommand}"
                           ItemLeftCommand="{Binding SetHadReadCommand}"
                           Grid.Row="1">
            <!--ItemSwipe="SwipeListView_ItemSwipe" 
                           ItemClick="SwipeListView_ItemClick"-->
            <swipeListControl:SwipeListView.ItemLeftContentTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="标为已读" Foreground="White" Style="{ThemeResource BodyTextBlockStyle}" TextAlignment="Center" VerticalAlignment="Center"/>
                        <Path Data="F1M0,0L0,36 2.25,36 2.25,18 13.5,18 13.5,22.5 29.25,22.5 29.25,4.5 15.75,4.5 15.75,0z M2.25,2.25L13.5,2.25 13.5,15.75 2.25,15.75z M15.75,6.75L27,6.75 27,20.25 15.75,20.25z" Fill="White" Height="24" Stretch="Uniform" Width="24" Margin="15,0"/>
                    </StackPanel>
                </DataTemplate>
            </swipeListControl:SwipeListView.ItemLeftContentTemplate>
            <swipeListControl:SwipeListView.ItemRightContentTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Path Data="F1M20.25,29.25L18,29.25 18,11.25 20.25,11.25z M15.75,29.25L13.5,29.25 13.5,11.25 15.75,11.25z M11.25,4.5L18,4.5 18,2.25 11.25,2.25z M11.25,29.25L9,29.25 9,11.25 11.25,11.25z M24.75,6.75L4.5,6.75 4.5,32.625C4.5,32.93 4.611,33.193 4.834,33.416 5.057,33.639 5.32,33.75 5.625,33.75L23.625,33.75C23.93,33.75 24.193,33.639 24.416,33.416 24.639,33.193 24.75,32.93 24.75,32.625z M29.25,6.75L27,6.75 27,32.625C27,33.094 26.912,33.533 26.736,33.943 26.561,34.354 26.32,34.711 26.016,35.016 25.711,35.32 25.354,35.561 24.943,35.736 24.533,35.912 24.094,36 23.625,36L5.625,36C5.156,36 4.717,35.912 4.307,35.736 3.896,35.561 3.539,35.32 3.234,35.016 2.93,34.711 2.689,34.354 2.514,33.943 2.338,33.533 2.25,33.094 2.25,32.625L2.25,6.75 0,6.75 0,4.5 9,4.5 9,2.25C9,1.934 9.059,1.641 9.176,1.371 9.293,1.102 9.454,0.864 9.659,0.659 9.864,0.454 10.102,0.293 10.371,0.176 10.641,0.059 10.934,0 11.25,0L18,0C18.316,0 18.609,0.059 18.879,0.176 19.148,0.293 19.386,0.454 19.591,0.659 19.796,0.864 19.957,1.102 20.074,1.371 20.191,1.641 20.25,1.934 20.25,2.25L20.25,4.5 29.25,4.5z" Fill="White" Height="24" Stretch="Uniform" Width="24" Margin="15,0"/>
                        <TextBlock Text="Delete" Foreground="White" Style="{ThemeResource BodyTextBlockStyle}" TextAlignment="Center" VerticalAlignment="Center"/>
                    </StackPanel>
                </DataTemplate>
            </swipeListControl:SwipeListView.ItemRightContentTemplate>
            <swipeListControl:SwipeListView.ItemTemplate>
                <DataTemplate>
                    <userControl:OnlineBookShelfItem DataContext="{Binding}"  Command="{Binding  Instance.OnLineBookShelf.ItemClickCommand,Source={ StaticResource  Locator}}" CommandParameter="{Binding}"></userControl:OnlineBookShelfItem>
                </DataTemplate>
            </swipeListControl:SwipeListView.ItemTemplate>
            <swipeListControl:SwipeListView.ItemContainerStyle>
                <Style TargetType="swipeListControl:SwipeListViewItem">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="TabNavigation" Value="Local"/>
                    <Setter Property="Padding" Value="0,0,0,0"/>
                    <Setter Property="Margin" Value="0"/>
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                    <Setter Property="UseSystemFocusVisuals" Value="True"/>
                    <Setter Property="MinWidth" Value="0"/>
                    <!--<Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="swipeListControl:SwipeListViewItem">
                                <Grid x:Name="LayoutRoot" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
                                    <Grid.Resources>
                                        <Style x:Key="BaseContentPresenterStyle" TargetType="ContentPresenter">
                                            <Setter Property="FontFamily" Value="Segoe UI"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                            <Setter Property="FontSize" Value="15"/>
                                            <Setter Property="TextWrapping" Value="Wrap"/>
                                            <Setter Property="LineStackingStrategy" Value="MaxHeight"/>
                                            <Setter Property="TextLineBounds" Value="Full"/>
                                            <Setter Property="OpticalMarginAlignment" Value="TrimSideBearings"/>
                                        </Style>
                                        <Style x:Key="BodyContentPresenterStyle" BasedOn="{StaticResource BaseContentPresenterStyle}" TargetType="ContentPresenter">
                                            <Setter Property="FontWeight" Value="Normal"/>
                                        </Style>
                                    </Grid.Resources>
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal"/>
                                            <VisualState x:Name="Disabled">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlDisabledBaseLowBrush}"/>
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <Rectangle x:Name="PressedBackground"   RadiusX="5"  RadiusY="5" Fill="{TemplateBinding Background}" Control.IsTemplateFocusTarget="True"/>
                                    <ContentPresenter x:Name="ContentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}" ContentTransitions="{TemplateBinding ContentTransitions}" Content="{TemplateBinding Content}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" Style="{StaticResource BodyContentPresenterStyle}" TextWrapping="NoWrap" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Padding="{TemplateBinding Padding}"/>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>-->
                </Style>
            </swipeListControl:SwipeListView.ItemContainerStyle>
        </swipeListControl:SwipeListView>
        <control:LoadingControl IsActive="{Binding IsLoading}" Grid.Row="1"></control:LoadingControl>
    </Grid>
</local:BaseListUserControl>

